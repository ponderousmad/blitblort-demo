<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Book Binder</title>
        <link href="style.css" rel="stylesheet">

        <script type="text/javascript" src="blitblort/test.js"></script>
        <script type="text/javascript" src="blitblort/blit.js"></script>
        <script type="text/javascript" src="blitblort/tick.js"></script>
        <script type="text/javascript" src="blitblort/blort.js"></script>
        <script type="text/javascript" src="blitblort/io.js"></script>
        <script type="text/javascript" src="blitblort/entropy.js"></script>
        <script type="text/javascript" src="blitblort/r2.js"></script>
        <script type="text/javascript" src="blitblort/r3.js"></script>
        <script type="text/javascript" src="blitblort/webgl-debug.js"></script>
        <script type="text/javascript" src="blitblort/wgl.js"></script>
        <script type="text/javascript" src="blitblort/blob.js"></script>
        <script type="text/javascript" src="blitblort/improc.js"></script>
        <script type="text/javascript" src="blitblort/blump.js"></script>
        <script type="text/javascript" src="blitblort/main.js"></script>
        <script type="text/javascript" src="src/blumpEdit.js"></script>
    </head>
    <body>
        <form>
            <div>
                <span>
                    Resource Base: <input type="text" id="resource" />
                </span>
            </div>
            <div>
                <span>
                    Frames: <input type="number" id="frameCount" />
                </span>
            </div>
            <div>
                <span>
                    Digits: <input type="number" id="digitCount", value="2" />
                </span>
            </div>
            <div>
                <span>
                    Resolution: <input type="number" id="pixelCount", value="512" />
                </span>
            </div>
            <div>
                <span>
                    Start At: <input type="number" id="offsetCount", value="0" />
                </span>
            </div>
            <div>
                <span>
                    Scale By: <input type="text" id="scale" />
                </span>
            </div>
            <button id="buttonAtlas" type="button">Setup Atlas</button>
        </form>
        <textarea id="textCoords" rows="10" cols="80">
        </textarea>
        <div id="atlas">
        </div>
        <script type="text/javascript">
            window.onload = function(e) {
                document.getElementById("buttonAtlas").addEventListener("click", function(e) {
                    var baseName = document.getElementById("resource").value,
                        frames = parseInt(document.getElementById("frameCount").value),
                        digits = parseInt(document.getElementById("digitCount").value),
                        offset = parseInt(document.getElementById("offsetCount").value),
                        resolution = parseInt(document.getElementById("pixelCount").value),
                        scale = parseFloat(document.getElementById("scale").value),
                        atlasDiv = document.getElementById("atlas"),
                        coordsOutput = document.getElementById("textCoords");
                    WGL.setupAtlas(baseName, frames, digits, resolution, scale, offset, atlasDiv, function(coords) {
                        coordsOutput.value = coords;
                    });
                }, true);
            };
        </script>
    </body>
</html>
